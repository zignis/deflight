a31fadffcf3ae68e27e8108f7a8e7b67
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _index = require("../index");
const middlewareMock = jest.fn(()=>undefined);
const nextFunctionMock = jest.fn(()=>undefined);
describe('unit: deflight', ()=>{
    beforeEach(()=>jest.clearAllMocks());
    it('should bypass preflight requests', ()=>{
        (0, _index.deflight)(middlewareMock)({
            method: 'OPTIONS'
        }, null, nextFunctionMock);
        expect(middlewareMock.mock.calls).toHaveLength(0);
        expect(nextFunctionMock.mock.calls).toHaveLength(1);
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFxkZWZsaWdodFxcc3JjXFxfX3Rlc3RzX19cXGluZGV4LnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVmbGlnaHQgfSBmcm9tICcuLi9pbmRleCc7XG5cbmNvbnN0IG1pZGRsZXdhcmVNb2NrID0gamVzdC5mbigoKSA9PiB1bmRlZmluZWQpO1xuY29uc3QgbmV4dEZ1bmN0aW9uTW9jayA9IGplc3QuZm4oKCkgPT4gdW5kZWZpbmVkKTtcblxuZGVzY3JpYmUoJ3VuaXQ6IGRlZmxpZ2h0JywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IGplc3QuY2xlYXJBbGxNb2NrcygpKTtcblxuICBpdCgnc2hvdWxkIGJ5cGFzcyBwcmVmbGlnaHQgcmVxdWVzdHMnLCAoKSA9PiB7XG4gICAgZGVmbGlnaHQobWlkZGxld2FyZU1vY2spKFxuICAgICAgeyBtZXRob2Q6ICdPUFRJT05TJyB9IGFzIGFueSxcbiAgICAgIG51bGwsXG4gICAgICBuZXh0RnVuY3Rpb25Nb2NrLFxuICAgICk7XG5cbiAgICBleHBlY3QobWlkZGxld2FyZU1vY2subW9jay5jYWxscykudG9IYXZlTGVuZ3RoKDApO1xuICAgIGV4cGVjdChuZXh0RnVuY3Rpb25Nb2NrLm1vY2suY2FsbHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJtaWRkbGV3YXJlTW9jayIsImplc3QiLCJmbiIsInVuZGVmaW5lZCIsIm5leHRGdW5jdGlvbk1vY2siLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJkZWZsaWdodCIsIm1ldGhvZCIsImV4cGVjdCIsIm1vY2siLCJjYWxscyIsInRvSGF2ZUxlbmd0aCJdLCJtYXBwaW5ncyI6Ijs7Ozt1QkFBeUI7QUFFekIsTUFBTUEsaUJBQWlCQyxLQUFLQyxFQUFFLENBQUMsSUFBTUM7QUFDckMsTUFBTUMsbUJBQW1CSCxLQUFLQyxFQUFFLENBQUMsSUFBTUM7QUFFdkNFLFNBQVMsa0JBQWtCLElBQU07SUFDL0JDLFdBQVcsSUFBTUwsS0FBS00sYUFBYTtJQUVuQ0MsR0FBRyxvQ0FBb0MsSUFBTTtRQUMzQ0MsSUFBQUEsZUFBUSxFQUFDVCxnQkFDUDtZQUFFVSxRQUFRO1FBQVUsR0FDcEIsSUFBSSxFQUNKTjtRQUdGTyxPQUFPWCxlQUFlWSxJQUFJLENBQUNDLEtBQUssRUFBRUMsWUFBWSxDQUFDO1FBQy9DSCxPQUFPUCxpQkFBaUJRLElBQUksQ0FBQ0MsS0FBSyxFQUFFQyxZQUFZLENBQUM7SUFDbkQ7QUFDRiJ9