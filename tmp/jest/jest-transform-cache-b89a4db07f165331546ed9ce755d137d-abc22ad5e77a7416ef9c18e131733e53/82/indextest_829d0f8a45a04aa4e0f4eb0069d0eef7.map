{"version":3,"sources":["E:\\deflight\\src\\__tests__\\index.test.ts"],"sourcesContent":["import { deflight } from '../index';\n\nconst middlewareMock = jest.fn(() => undefined);\nconst nextFunctionMock = jest.fn(() => undefined);\n\ndescribe('unit: deflight', () => {\n  beforeEach(() => jest.clearAllMocks());\n\n  it('should bypass pre-flight requests', () => {\n    deflight(middlewareMock)(\n      { method: 'OPTIONS' } as any,\n      null,\n      nextFunctionMock,\n    );\n\n    expect(middlewareMock).not.toHaveBeenCalled();\n    expect(nextFunctionMock.mock.calls).toHaveLength(1);\n  });\n\n  it('should skip requests that are not pre-flight', () => {\n    deflight(middlewareMock)({ method: 'GET' } as any, null, nextFunctionMock);\n\n    expect(middlewareMock.mock.calls).toHaveLength(1);\n    expect(nextFunctionMock).not.toHaveBeenCalled();\n  });\n});\n"],"names":["middlewareMock","jest","fn","undefined","nextFunctionMock","describe","beforeEach","clearAllMocks","it","deflight","method","expect","not","toHaveBeenCalled","mock","calls","toHaveLength"],"mappings":";;;;uBAAyB;AAEzB,MAAMA,iBAAiBC,KAAKC,EAAE,CAAC,IAAMC;AACrC,MAAMC,mBAAmBH,KAAKC,EAAE,CAAC,IAAMC;AAEvCE,SAAS,kBAAkB,IAAM;IAC/BC,WAAW,IAAML,KAAKM,aAAa;IAEnCC,GAAG,qCAAqC,IAAM;QAC5CC,IAAAA,eAAQ,EAACT,gBACP;YAAEU,QAAQ;QAAU,GACpB,IAAI,EACJN;QAGFO,OAAOX,gBAAgBY,GAAG,CAACC,gBAAgB;QAC3CF,OAAOP,iBAAiBU,IAAI,CAACC,KAAK,EAAEC,YAAY,CAAC;IACnD;IAEAR,GAAG,gDAAgD,IAAM;QACvDC,IAAAA,eAAQ,EAACT,gBAAgB;YAAEU,QAAQ;QAAM,GAAU,IAAI,EAAEN;QAEzDO,OAAOX,eAAec,IAAI,CAACC,KAAK,EAAEC,YAAY,CAAC;QAC/CL,OAAOP,kBAAkBQ,GAAG,CAACC,gBAAgB;IAC/C;AACF"}