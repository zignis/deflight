6555a37e348438eefbde5673723dbd65
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _index = require("../index");
const middlewareMock = jest.fn(()=>undefined);
const nextFunctionMock = jest.fn(()=>undefined);
describe('unit: deflight', ()=>{
    beforeEach(()=>jest.clearAllMocks());
    it('should bypass preflight requests', ()=>{
        (0, _index.deflight)(middlewareMock)({
            method: 'OPTIONS'
        }, null, nextFunctionMock);
        expect(middlewareMock).not.toHaveBeenCalled();
        expect(nextFunctionMock.mock.calls).toHaveLength(1);
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFxkZWZsaWdodFxcc3JjXFxfX3Rlc3RzX19cXGluZGV4LnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVmbGlnaHQgfSBmcm9tICcuLi9pbmRleCc7XG5cbmNvbnN0IG1pZGRsZXdhcmVNb2NrID0gamVzdC5mbigoKSA9PiB1bmRlZmluZWQpO1xuY29uc3QgbmV4dEZ1bmN0aW9uTW9jayA9IGplc3QuZm4oKCkgPT4gdW5kZWZpbmVkKTtcblxuZGVzY3JpYmUoJ3VuaXQ6IGRlZmxpZ2h0JywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IGplc3QuY2xlYXJBbGxNb2NrcygpKTtcblxuICBpdCgnc2hvdWxkIGJ5cGFzcyBwcmVmbGlnaHQgcmVxdWVzdHMnLCAoKSA9PiB7XG4gICAgZGVmbGlnaHQobWlkZGxld2FyZU1vY2spKFxuICAgICAgeyBtZXRob2Q6ICdPUFRJT05TJyB9IGFzIGFueSxcbiAgICAgIG51bGwsXG4gICAgICBuZXh0RnVuY3Rpb25Nb2NrLFxuICAgICk7XG5cbiAgICBleHBlY3QobWlkZGxld2FyZU1vY2spLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgZXhwZWN0KG5leHRGdW5jdGlvbk1vY2subW9jay5jYWxscykudG9IYXZlTGVuZ3RoKDEpO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbIm1pZGRsZXdhcmVNb2NrIiwiamVzdCIsImZuIiwidW5kZWZpbmVkIiwibmV4dEZ1bmN0aW9uTW9jayIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsImRlZmxpZ2h0IiwibWV0aG9kIiwiZXhwZWN0Iiwibm90IiwidG9IYXZlQmVlbkNhbGxlZCIsIm1vY2siLCJjYWxscyIsInRvSGF2ZUxlbmd0aCJdLCJtYXBwaW5ncyI6Ijs7Ozt1QkFBeUI7QUFFekIsTUFBTUEsaUJBQWlCQyxLQUFLQyxFQUFFLENBQUMsSUFBTUM7QUFDckMsTUFBTUMsbUJBQW1CSCxLQUFLQyxFQUFFLENBQUMsSUFBTUM7QUFFdkNFLFNBQVMsa0JBQWtCLElBQU07SUFDL0JDLFdBQVcsSUFBTUwsS0FBS00sYUFBYTtJQUVuQ0MsR0FBRyxvQ0FBb0MsSUFBTTtRQUMzQ0MsSUFBQUEsZUFBUSxFQUFDVCxnQkFDUDtZQUFFVSxRQUFRO1FBQVUsR0FDcEIsSUFBSSxFQUNKTjtRQUdGTyxPQUFPWCxnQkFBZ0JZLEdBQUcsQ0FBQ0MsZ0JBQWdCO1FBQzNDRixPQUFPUCxpQkFBaUJVLElBQUksQ0FBQ0MsS0FBSyxFQUFFQyxZQUFZLENBQUM7SUFDbkQ7QUFDRiJ9